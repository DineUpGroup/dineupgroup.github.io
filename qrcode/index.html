<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DineUp QR Code Generator</title>
</head>
<body>
  <div style="display: none;">
  <svg width="499" height="499" viewBox="0 0 499 499" fill="#052B63" xmlns="http://www.w3.org/2000/svg">
    <path d="M499 465.861V33.0687C499 24.2984 495.515 15.8871 489.312 9.68558C483.109 3.48402 474.695 0 465.922 0H33.0126C26.4799 0.0128356 20.0971 1.95921 14.6695 5.59369C9.24191 9.22818 5.01237 14.3879 2.51417 20.4223C0.0159691 26.4568 -0.638865 33.0958 0.632069 39.5019C1.903 45.908 5.04322 51.7944 9.65609 56.4189L94.1725 140.845C96.9953 143.681 100.351 145.932 104.046 147.468C107.742 149.003 111.704 149.794 115.706 149.794C119.708 149.794 123.671 149.003 127.366 147.468C131.062 145.932 134.418 143.681 137.241 140.845L224.997 53.1121C227.861 49.9916 231.327 47.4829 235.186 45.7369C239.045 43.9909 243.217 43.0436 247.452 42.9524C251.687 42.8613 255.896 43.628 259.827 45.2064C263.758 46.7847 267.328 49.1423 270.323 52.1367C273.319 55.1311 275.677 58.7004 277.256 62.63C278.835 66.5596 279.602 70.7683 279.511 75.0021C279.419 79.2358 278.472 83.4073 276.725 87.2653C274.979 91.1234 272.469 94.5882 269.348 97.451L111.589 255.168C108.761 257.999 106.518 261.36 104.99 265.058C103.461 268.756 102.676 272.719 102.679 276.72C102.682 280.721 103.473 284.682 105.008 288.378C106.542 292.074 108.79 295.431 111.622 298.258C114.455 301.085 117.816 303.327 121.515 304.855C125.214 306.383 129.178 307.169 133.18 307.165C137.182 307.162 141.145 306.371 144.842 304.837C148.538 303.303 151.896 301.056 154.724 298.224L312.416 140.71C315.297 137.686 318.754 135.268 322.584 133.6C326.413 131.931 330.539 131.045 334.716 130.994C338.893 130.943 343.038 131.728 346.908 133.303C350.777 134.878 354.292 137.21 357.246 140.164C360.2 143.117 362.533 146.631 364.109 150.499C365.684 154.367 366.468 158.511 366.418 162.688C366.367 166.864 365.481 170.987 363.812 174.816C362.143 178.645 359.725 182.101 356.7 184.981L199.007 342.698C196.168 345.526 193.916 348.886 192.379 352.586C190.842 356.286 190.05 360.253 190.05 364.26C190.05 368.266 190.842 372.234 192.379 375.934C193.916 379.634 196.168 382.994 199.007 385.822L200.627 387.442C203.455 390.27 206.812 392.513 210.507 394.044C214.202 395.575 218.162 396.363 222.162 396.363C226.161 396.363 230.122 395.575 233.817 394.044C237.512 392.513 240.868 390.27 243.695 387.442L401.455 229.725C404.318 226.604 407.784 224.096 411.643 222.35C415.502 220.604 419.676 219.656 423.911 219.565C428.145 219.474 432.354 220.241 436.285 221.819C440.216 223.398 443.786 225.755 446.782 228.75C449.777 231.744 452.135 235.314 453.713 239.243C455.292 243.173 456.059 247.381 455.968 251.615C455.877 255.849 454.93 260.02 453.184 263.878C451.437 267.736 448.927 271.201 445.806 274.064L358.049 361.797C355.212 364.619 352.961 367.974 351.425 371.668C349.889 375.363 349.098 379.324 349.098 383.325C349.098 387.326 349.889 391.288 351.425 394.982C352.961 398.677 355.212 402.031 358.049 404.853L442.498 489.347C447.124 493.959 453.012 497.098 459.42 498.368C465.828 499.639 472.468 498.984 478.505 496.487C484.541 493.989 489.702 489.761 493.337 484.334C496.973 478.908 498.92 472.527 498.932 465.996"/>
    </svg>
    </div>
  <form>
    <input type="color" id="color" value="#002356">
    <textarea id="content" placeholder="Enter the content to generate QR code"></textarea>
    <button type="submit">Generate QR Code</button>
  </form>
  <div id="qr-code"></div>
  <div id="save" style="margin-top: 20px; display: none;">Right Click to Save</div>
  <script src="./qrcode-with-logos.min.js"></script>
  <script>
    document.querySelector('form').addEventListener('submit', (event) => {
      event.preventDefault();
      const svg = document.querySelector('svg');
      const color = document.getElementById('color').value;
      svg.style.fill = color;
      const encodedData = window.btoa(new XMLSerializer().serializeToString(svg));
      const content = document.getElementById('content').value;
      const qrCode = new QrCodeWithLogo({
        canvas: document.createElement('canvas'),
        content,
        width: 256,
        height: 256,
        nodeQrCodeOptions: {
          errorCorrectionLevel: 'H',
          color: {
            dark: color
          }
        },
        logo: {
          src: 'data:image/svg+xml;base64,' + encodedData,
          width: 50,
          height: 50,
          x: 103,
          y: 103
        }
      });
      const $qrCode = document.getElementById('qr-code');
      $qrCode.innerHTML = '';
      $qrCode.append(qrCode.defaultOption.canvas);
      document.getElementById('save').style.display = 'block';
    });
  </script>
</body>
</html>